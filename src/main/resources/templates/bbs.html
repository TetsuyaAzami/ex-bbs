<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .comments,
      .article,
      .commentForm {
        margin-top: 20px;
      }
      .error-messages {
        color: red;
      }
      * {
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <!-- ArticleТіЋуе┐жЃетѕє -->
    <form
      th:action="@{/article/insertArticle}"
      method="post"
      th:object="${articleForm}"
    >
      <label for="name" class="error-messages" th:errors="*{name}"
        >УеўС║ІтљЇсѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИ</label
      ><br />
      <label for="name">ТіЋуе┐УђЁтљЇ:</label
      ><input type="text" th:field="*{name}" /><br />
      <label for="content" class="error-messages" th:errors="*{content}"
        >УеўС║ІтєЁт«╣сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИ</label
      ><br />
      <label for="content">ТіЋуе┐тєЁт«╣:</label>
      <textarea name="content" id="content" cols="30" rows="10"></textarea
      ><br />
      <button>УеўС║ІТіЋуе┐</button>
    </form>

    <!-- УеўС║ІтЁеС╗ХУАеуц║жЃетѕє -->
    <div class="article" th:each="article : ${articleList}">
      <hr />
      <span>ТіЋуе┐УђЁтљЇ:</span>
      <span th:text="${article.name}"></span><br />
      <span>ТіЋуе┐тєЁт«╣:</span><br />
      <span th:text="${article.content}"></span><br />
      <input type="hidden" name="id" th:value="${article.id}" />
      <a th:href="@{'/article/delete?articleId=' + ${article.id} }">
        <button>УеўС║ІтЅіжЎц</button>
      </a>
      <button class="likeCountButton" th:id="*{article.id}">­ЪЉЇ</button>
      <span th:id="*{'likeCount' + article.id}">0</span>

      <!-- УеўС║ІсЂФу┤љсЂЦсЂЈсѓ│сЃАсЃ│сЃѕтЁеС╗ХУАеуц║ -->
      <div class="comments" th:each="comment:${article.commentList}">
        <div th:unless="${#lists.isEmpty(article.commentList)}">
          <span>сѓ│сЃАсЃ│сЃѕУђЁтљЇ: </span><span th:text="${comment.name}"></span
          ><br />
          <span>сѓ│сЃАсЃ│сЃѕтєЁт«╣:</span><br />
          <span th:text="${comment.content}"></span><br />
        </div>
      </div>

      <!-- сѓ│сЃАсЃ│сЃѕсЃЋсѓЕсЃ╝сЃа -->
      <form
        class="commentForm"
        th:action="@{/article/insertComment}"
        method="post"
        th:object="${commentForm}"
      >
        <label
          for="name"
          class="error-messages"
          th:if="${ErrorCommentAriticleId == article.id}"
          th:errors="*{name}"
          >сѓ│сЃАсЃ│сЃѕТіЋуе┐УђЁсѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИ</label
        ><br />
        <label for="name">тљЇтЅЇ:</label><br />
        <input type="text" th:field="*{name}" /><br />
        <label
          for="content"
          class="error-messages"
          th:if="${ErrorCommentAriticleId == article.id}"
          th:errors="*{content}"
          >сѓ│сЃАсЃ│сЃѕТіЋуе┐тєЁт«╣сѓесЃЕсЃ╝сЃАсЃЃсѓ╗сЃ╝сѓИ</label
        ><br />
        <label for="content">сѓ│сЃАсЃ│сЃѕ</label><br />
        <textarea type="text" th:field="*{content}" />
        <input type="hidden" name="articleId" th:value="${article.id}" /><br />
        <button>сѓ│сЃАсЃ│сЃѕТіЋуе┐</button>
      </form>
    </div>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script th:src="@{/js/bbs.js}"></script>
  </body>
</html>
